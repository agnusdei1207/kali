## 🔑 `chmod u+s /bin/bash` 분석

`chmod`는 **ch**ange **mod**e(권한 변경)의 약자이며, 뒤따르는 문자들은 '누구에게', '어떤 권한'을 변경할지 지정합니다.

### 1. 👥 `u`의 의미: 사용자 (User)

`u`는 **User (사용자)**를 의미하며, 파일의 **소유자(Owner)**에게 권한을 설정하거나 변경할 때 사용됩니다.

| 문자  | 의미 (Who)        | 설명                                         |
| :---- | :---------------- | :------------------------------------------- |
| **u** | **User** (소유자) | 파일을 소유한 계정(여기서는 `root`)          |
| g     | Group (그룹)      | 파일 소유 그룹에 속한 사용자                 |
| o     | Other (기타)      | 파일 소유자나 그룹에 속하지 않은 모든 사용자 |
| a     | All (모두)        | `u`, `g`, `o` 전체                           |

따라서 `chmod **u**+s`는 "파일의 **소유자 권한** 부분에 무언가를 추가(add: `+`)한다"는 의미입니다.

---

### 2. 🛡️ `+s`의 의미: SUID 비트 설정

`+s`는 **Set-User-ID bit (SUID 비트)**를 추가하라는 의미이며, 이 비트는 일반적인 읽기/쓰기/실행 권한과는 별개로 파일 실행 방식에 영향을 미치는 특수 권한입니다.

| 기호   | 권한 명칭 (Special Bit)     | 설명                                                                                                          |
| :----- | :-------------------------- | :------------------------------------------------------------------------------------------------------------ |
| **+s** | **SUID 비트 (Set-User-ID)** | 파일을 실행할 때, 실행한 **사용자**의 권한이 아닌, 파일의 **소유자**의 권한으로 프로세스가 실행되도록 합니다. |
| **+t** | Sticky 비트 (디렉토리용)    | 디렉토리 내에서 파일 소유자 또는 `root`만 파일을 삭제/이름 변경할 수 있도록 합니다.                           |
| **+g** | SGID 비트 (Set-Group-ID)    | 파일을 실행할 때 파일의 **그룹** 권한으로 프로세스가 실행되도록 합니다.                                       |

#### 🚨 SUID 비트의 중요성 (권한 상승 벡터)

SUID 비트는 리눅스에서 **권한 상승(Privilege Escalation)**을 위한 가장 중요한 취약점 중 하나입니다.

- **일반 파일:** 일반 사용자가 `/bin/bash`를 실행하면 `think` 권한으로 실행됩니다.
- **SUID 설정 파일:** `/bin/bash`는 소유자가 **`root`**입니다. 이 파일에 SUID 비트가 설정되면, 일반 사용자 `think`가 이 `/bin/bash`를 실행해도, 실행된 셸은 일시적으로 **`root`의 권한**을 가지고 실행됩니다.

> **즉, `chmod u+s /bin/bash` 명령은** **"/bin/bash 파일에 SUID 비트를 추가하라"**는 의미이며, 이는 **일반 사용자가 언제든지 `root` 셸을 획득**할 수 있도록 하는 강력한 권한 상승 공격 페이로드입니다.

### 3. 🔎 권한 확인 (SUID가 설정되었을 때)

SUID 비트가 성공적으로 설정되면, `ls -l` 명령어로 권한을 확인했을 때 **소유자(User)의 실행 권한 위치**(`x`)가 대문자 **`S`** 또는 소문자 **`s`**로 변경되어 나타납니다.

| 상태                       | 권한 표시    | 의미                                                            |
| :------------------------- | :----------- | :-------------------------------------------------------------- |
| **성공적으로 설정됨**      | `-rwsr-xr-x` | **`s`** (실행 권한(`x`)이 있었던 자리에 `s`가 표시됨)           |
| 설정 실패 (실행 권한 없음) | `-rwsr--r--` | **`S`** (실행 권한(`x`)이 없었는데 `S`가 표시됨. 실행되지 않음) |
