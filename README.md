<div align="center">
    <img src="https://www.kali.org/images/kali-dragon-icon.svg" alt="Kali Linux Logo" width="150" />
</div>

<div align="center">
    <h1>침투 테스트 방법론 & 아키텍처</h1>
</div>

> **목적**: 체계적인 침투 테스트를 위한 전체적인 방법론과 아키텍처를 제시합니다.

### 수동 침투 기법 중심의 체계적 접근법

# 침투 테스트 방법론 개요

## 전체 아키텍처 구조

```
┌─────────────────────────────────────────────────────────────────┐
│                    침투 테스트 방법론                              │
├─────────────────────────────────────────────────────────────────┤
│  1. 정보 수집      →  2. 취약점 분석  →  3. 초기 침투           │
│     (Reconnaissance)   (Vulnerability     (Initial Access)       │
│                        Assessment)                               │
├─────────────────────────────────────────────────────────────────┤
│  4. 권한 상승      →  5. 권한 유지    →  6. 측면 이동           │
│     (Privilege        (Persistence)      (Lateral Movement)      │
│     Escalation)                                                  │
├─────────────────────────────────────────────────────────────────┤
│  7. 증거 수집      →  8. 정리 및 복구 →  9. 보고서 작성         │
│     (Evidence         (Cleanup)          (Reporting)             │
│     Collection)                                                  │
└─────────────────────────────────────────────────────────────────┘
```

## 1. 정보 수집 (Reconnaissance) 단계

### 개념적 프레임워크

정보 수집은 대상 시스템에 대한 모든 가용 정보를 수집하는 첫 번째 단계로, 수동적 정보 수집과 능동적 정보 수집으로 구분됩니다.

```
정보 수집 계층 구조:
┌─────────────────────────────────────────────┐
│           수동적 정보 수집                     │
│  (OSINT, DNS 조회, 공개 데이터베이스)           │
├─────────────────────────────────────────────┤
│           능동적 정보 수집                     │
│  (포트 스캐닝, 서비스 열거, 배너 그래빙)        │
├─────────────────────────────────────────────┤
│         웹 애플리케이션 매핑                   │
│  (디렉터리 열거, 기술 스택 식별)                │
└─────────────────────────────────────────────┘
```

### 핵심 구성 요소

- **네트워크 스캐닝**: 활성 호스트 및 열린 포트 식별
- **서비스 열거**: 실행 중인 서비스 및 버전 정보 수집
- **웹 애플리케이션 분석**: 디렉터리 구조 및 기술 스택 파악

## 2. 취약점 분석 (Vulnerability Assessment) 단계

### 분석 방법론 구조

```
취약점 분석 프로세스:
┌─────────────────────────────────────────────┐
│            자동화 스캐닝                      │
│   (Nmap Scripts, Nikto, 기본 도구)          │
├─────────────────────────────────────────────┤
│            수동 검증                         │
│   (False Positive 제거, 깊이 있는 분석)       │
├─────────────────────────────────────────────┤
│            익스플로잇 가능성 평가              │
│   (CVE 매칭, PoC 검증, 영향도 분석)          │
└─────────────────────────────────────────────┘
```

### 취약점 카테고리 분류

- **네트워크 서비스 취약점**: SMB, SSH, FTP 등 네트워크 프로토콜
- **웹 애플리케이션 취약점**: SQL 인젝션, XSS, 파일 업로드 등
- **시스템 구성 취약점**: 기본 자격증명, 잘못된 권한 설정

## 3. 초기 침투 (Initial Access) 단계

### 침투 벡터 아키텍처

```
초기 침투 경로:
┌─────────────────────────────────────────────┐
│              인증 우회                       │
│   (브루트포스, 기본 자격증명, 인증 결함)        │
├─────────────────────────────────────────────┤
│             웹 애플리케이션                   │
│   (SQL 인젝션, 파일 업로드, RCE)             │
├─────────────────────────────────────────────┤
│             네트워크 서비스                   │
│   (버퍼 오버플로우, 서비스 취약점)             │
└─────────────────────────────────────────────┘
```

### 성공적인 침투의 핵심 요소

- **정확한 타겟팅**: 가장 취약한 서비스부터 공격
- **수동 접근법**: 자동화 도구에 의존하지 않는 심화 분석
- **지속적인 검증**: 각 단계마다 성공 여부 확인

## 4. 권한 상승 (Privilege Escalation) 단계

### 권한 상승 전략 구조

```
권한 상승 방법론:
┌─────────────────────────────────────────────┐
│              수평적 권한 상승                 │
│   (같은 권한 레벨에서 다른 사용자)             │
├─────────────────────────────────────────────┤
│              수직적 권한 상승                 │
│   (낮은 권한에서 높은 권한으로)                │
├─────────────────────────────────────────────┤
│              시스템 권한 획득                 │
│   (Administrator/Root 권한)                 │
└─────────────────────────────────────────────┘
```

### 플랫폼별 접근법

- **Windows 환경**: 서비스 취약점, 레지스트리 설정, 토큰 조작
- **Linux 환경**: SUID 바이너리, Sudo 설정, 커널 취약점

## 5. 권한 유지 (Persistence) 단계

### 지속성 메커니즘 계층

```
권한 유지 전략:
┌─────────────────────────────────────────────┐
│              시스템 레벨                      │
│   (서비스, 스케줄 작업, 시스템 파일)           │
├─────────────────────────────────────────────┤
│              사용자 레벨                      │
│   (시작 프로그램, 사용자 프로필)               │
├─────────────────────────────────────────────┤
│             애플리케이션 레벨                  │
│   (웹쉘, 데이터베이스 백도어)                  │
└─────────────────────────────────────────────┘
```

## 6. 측면 이동 (Lateral Movement) 단계

### 네트워크 확산 모델

```
측면 이동 프로세스:
┌─────────────────────────────────────────────┐
│            내부 네트워크 탐색                  │
│   (ARP 테이블, 라우팅 테이블, DNS)            │
├─────────────────────────────────────────────┤
│            자격증명 수집                      │
│   (메모리 덤프, 저장된 패스워드, 해시)         │
├─────────────────────────────────────────────┤
│            추가 시스템 침투                   │
│   (Pass-the-Hash, 원격 서비스 악용)          │
└─────────────────────────────────────────────┘
```

## 7. 증거 수집 (Evidence Collection) 단계

### 포렌식 증거 수집 체계

- **시스템 정보**: 호스트명, IP 주소, 운영체제 정보
- **사용자 컨텍스트**: 현재 사용자, 권한 레벨
- **중요 파일**: 플래그, 구성 파일, 민감한 데이터

## 8. 정리 및 복구 (Cleanup) 단계

### 흔적 제거 프로세스

- **파일 정리**: 업로드된 도구 및 페이로드 제거
- **로그 정리**: 접근 기록 및 실행 로그 정리
- **계정 정리**: 생성된 사용자 계정 삭제

# 방법론별 도구 매트릭스

## 정보 수집 도구 체계

| 카테고리    | 기본 도구  | 고급 도구 | 수동 기법  |
| ----------- | ---------- | --------- | ---------- |
| 포트 스캐닝 | nmap       | masscan   | nc, telnet |
| 웹 열거     | gobuster   | ffuf      | curl, wget |
| 서비스 열거 | enum4linux | rpcclient | smbclient  |

## 취약점 분석 도구 체계

| 대상     | 자동화 도구  | 수동 검증   | 익스플로잇      |
| -------- | ------------ | ----------- | --------------- |
| 웹 앱    | nikto        | Burp Suite  | 수동 페이로드   |
| 네트워크 | nmap scripts | 수동 테스팅 | searchsploit    |
| 시스템   | 설정 검사    | 수동 감사   | 커스텀 스크립트 |

# 성공적인 침투 테스트의 핵심 원칙

## 1. 체계적 접근법

- 각 단계를 순차적으로 진행
- 이전 단계에서 수집한 정보를 다음 단계에 활용
- 문서화를 통한 재현 가능성 확보

## 2. 심층 분석

- 자동화 도구 결과의 수동 검증
- False Positive/Negative 최소화
- 복합적 공격 벡터 고려

## 3. 실용적 접근

- 비즈니스 영향도를 고려한 우선순위 설정
- 현실적인 위협 시나리오 기반 테스트
- 방어 측면에서의 대응 방안 고려

# 방법론 적용 시 고려사항

## 환경별 적응

- **내부 네트워크**: 신뢰 관계 악용, AD 환경 특화
- **외부 네트워크**: 방화벽 우회, 공개 서비스 중심
- **웹 애플리케이션**: OWASP Top 10 기반 체계적 접근

## 시간 관리

- 정보 수집에 충분한 시간 할당 (전체의 30-40%)
- 각 단계별 시간 제한 설정
- 막힌 부분에서는 다른 접근법으로 전환

## 문서화 전략

- 실시간 노트 작성
- 스크린샷과 명령어 기록
- 재현 가능한 단계별 가이드 작성

