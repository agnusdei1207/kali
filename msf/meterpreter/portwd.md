# portfwd

Meterpreter에서 `portfwd` 명령은 포트 포워딩(Port Forwarding)을 설정할 때 사용한다.  
즉, 공격자가 자신의 컴퓨터에서 특정 포트로 들어오는 트래픽을, 대상 시스템의 내부 네트워크에 있는 다른 호스트나 포트로 전달할 수 있게 해준다.

## 언제 쓰나?

- 내부망에 직접 접근할 수 없을 때, Meterpreter 세션을 통해 우회 접근이 필요할 때 사용.
- 예를 들어, 내부 DB 서버(127.0.0.1:3306)에 직접 연결할 수 없지만 Meterpreter 세션이 있는 PC에서는 접근 가능할 때.

## 사용 예시

```bash
portfwd add -l 8080 -p tcp -r 127.0.0.1 -L 80
```

- `-l 8080`: 내 PC의 8080 포트로 들어오는 트래픽을
- `-p tcp`: TCP 프로토콜로
- `-r 127.0.0.1`: 대상 시스템의 127.0.0.1(즉, Meterpreter가 설치된 PC의 로컬)
- `-L 80`: 대상 시스템의 80번 포트로 전달

## 실전 활용

이렇게 설정하면, 내 PC에서 `localhost:8080`으로 접속하면 Meterpreter 세션을 통해 대상 PC의 `localhost:80`으로 트래픽이 전달된다.  
내부망 웹서버, DB 등 직접 접근이 안 되는 서비스에 우회 접속할 때 매우 유용하다.

## 주요 옵션

- `add`: 포트포워딩 추가
- `delete`: 포트포워딩 삭제
- `list`: 현재 설정된 포트포워딩 목록 확인

## 참고

포트포워딩은 네트워크 우회, 내부망 침투, 서비스 접근 등 다양한 상황에서 활용된다.  
실제 환경에서는 보안 정책에 따라 차단될 수 있으니, 네트워크 구조와 방화벽 설정도 함께 고려해야 한다.
